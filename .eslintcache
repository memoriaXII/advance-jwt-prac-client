[{"/Users/chengleichou/advance-jwt-client/src/index.js":"1","/Users/chengleichou/advance-jwt-client/src/Routes.js":"2","/Users/chengleichou/advance-jwt-client/src/App.js":"3","/Users/chengleichou/advance-jwt-client/src/auth/Signin.js":"4","/Users/chengleichou/advance-jwt-client/src/auth/Signup.js":"5","/Users/chengleichou/advance-jwt-client/src/auth/Activate.js":"6","/Users/chengleichou/advance-jwt-client/src/auth/helpers.js":"7","/Users/chengleichou/advance-jwt-client/src/core/Layout.js":"8","/Users/chengleichou/advance-jwt-client/src/core/Admin.js":"9","/Users/chengleichou/advance-jwt-client/src/core/Private.js":"10","/Users/chengleichou/advance-jwt-client/src/auth/PrivateRoute.js":"11","/Users/chengleichou/advance-jwt-client/src/auth/AdminRoute.js":"12","/Users/chengleichou/advance-jwt-client/src/auth/Forgot.js":"13","/Users/chengleichou/advance-jwt-client/src/auth/Reset.js":"14","/Users/chengleichou/advance-jwt-client/src/auth/Google.js":"15","/Users/chengleichou/advance-jwt-client/src/auth/Facebook.js":"16","/Users/chengleichou/advance-jwt-client/src/auth/LinkedIn.js":"17"},{"size":155,"mtime":1572863443000,"results":"18","hashOfConfig":"19"},{"size":1206,"mtime":1572863443000,"results":"20","hashOfConfig":"19"},{"size":873,"mtime":1572863443000,"results":"21","hashOfConfig":"19"},{"size":3270,"mtime":1610987557230,"results":"22","hashOfConfig":"19"},{"size":2947,"mtime":1572863443000,"results":"23","hashOfConfig":"19"},{"size":1887,"mtime":1572863443000,"results":"24","hashOfConfig":"19"},{"size":2032,"mtime":1572863443000,"results":"25","hashOfConfig":"19"},{"size":2499,"mtime":1572863443000,"results":"26","hashOfConfig":"19"},{"size":4088,"mtime":1572863443000,"results":"27","hashOfConfig":"19"},{"size":4093,"mtime":1572863443000,"results":"28","hashOfConfig":"19"},{"size":597,"mtime":1572863443000,"results":"29","hashOfConfig":"19"},{"size":622,"mtime":1572863443000,"results":"30","hashOfConfig":"19"},{"size":2124,"mtime":1572863443000,"results":"31","hashOfConfig":"19"},{"size":2640,"mtime":1572863443000,"results":"32","hashOfConfig":"19"},{"size":1163,"mtime":1610983766095,"results":"33","hashOfConfig":"19"},{"size":1189,"mtime":1610985625988,"results":"34","hashOfConfig":"19"},{"size":1665,"mtime":1611073127923,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"kxowiz",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"38"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/chengleichou/advance-jwt-client/src/index.js",[],["75","76"],"/Users/chengleichou/advance-jwt-client/src/Routes.js",[],"/Users/chengleichou/advance-jwt-client/src/App.js",[],"/Users/chengleichou/advance-jwt-client/src/auth/Signin.js",[],"/Users/chengleichou/advance-jwt-client/src/auth/Signup.js",[],"/Users/chengleichou/advance-jwt-client/src/auth/Activate.js",["77","78","79","80"],"import React, { useState, useEffect } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport axios from 'axios';\nimport jwt from 'jsonwebtoken';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nconst Activate = ({ match }) => {\n    const [values, setValues] = useState({\n        name: '',\n        token: '',\n        show: true\n    });\n\n    useEffect(() => {\n        let token = match.params.token;\n        let { name } = jwt.decode(token);\n        // console.log(token);\n        if (token) {\n            setValues({ ...values, name, token });\n        }\n    }, []);\n\n    const { name, token, show } = values;\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        axios({\n            method: 'POST',\n            url: `${process.env.REACT_APP_API}/account-activation`,\n            data: { token }\n        })\n            .then(response => {\n                console.log('ACCOUNT ACTIVATION', response);\n                setValues({ ...values, show: false });\n                toast.success(response.data.message);\n            })\n            .catch(error => {\n                console.log('ACCOUNT ACTIVATION ERROR', error.response.data.error);\n                toast.error(error.response.data.error);\n            });\n    };\n\n    const activationLink = () => (\n        <div className=\"text-center\">\n            <h1 className=\"p-5\">Hey {name}, Ready to activate your account?</h1>\n            <button className=\"btn btn-outline-primary\" onClick={clickSubmit}>\n                Activate Account\n            </button>\n        </div>\n    );\n\n    return (\n        <Layout>\n            <div className=\"col-md-6 offset-md-3\">\n                <ToastContainer />\n                {activationLink()}\n            </div>\n        </Layout>\n    );\n};\n\nexport default Activate;\n","/Users/chengleichou/advance-jwt-client/src/auth/helpers.js",[],"/Users/chengleichou/advance-jwt-client/src/core/Layout.js",[],"/Users/chengleichou/advance-jwt-client/src/core/Admin.js",[],"/Users/chengleichou/advance-jwt-client/src/core/Private.js",[],"/Users/chengleichou/advance-jwt-client/src/auth/PrivateRoute.js",["81"],"import React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuth } from './helpers';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuth() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: '/signin',\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    ></Route>\n);\n\nexport default PrivateRoute;\n","/Users/chengleichou/advance-jwt-client/src/auth/AdminRoute.js",["82"],"import React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuth } from './helpers';\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuth() && isAuth().role === 'admin' ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: '/signin',\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    ></Route>\n);\n\nexport default AdminRoute;\n","/Users/chengleichou/advance-jwt-client/src/auth/Forgot.js",[],"/Users/chengleichou/advance-jwt-client/src/auth/Reset.js",["83"],"import React, { useState, useEffect } from 'react';\nimport jwt from 'jsonwebtoken';\nimport Layout from '../core/Layout';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nconst Reset = ({ match }) => {\n    // props.match from react router dom\n    const [values, setValues] = useState({\n        name: '',\n        token: '',\n        newPassword: '',\n        buttonText: 'Reset password'\n    });\n\n    useEffect(() => {\n        let token = match.params.token;\n        let { name } = jwt.decode(token);\n        // console.log(name);\n        if (token) {\n            setValues({ ...values, name, token });\n        }\n    }, []);\n\n    const { name, token, newPassword, buttonText } = values;\n\n    const handleChange = event => {\n        setValues({ ...values, newPassword: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, buttonText: 'Submitting' });\n        axios({\n            method: 'PUT',\n            url: `${process.env.REACT_APP_API}/reset-password`,\n            data: { newPassword, resetPasswordLink: token }\n        })\n            .then(response => {\n                console.log('RESET PASSWORD SUCCESS', response);\n                toast.success(response.data.message);\n                setValues({ ...values, buttonText: 'Done' });\n            })\n            .catch(error => {\n                console.log('RESET PASSWORD ERROR', error.response.data);\n                toast.error(error.response.data.error);\n                setValues({ ...values, buttonText: 'Reset password' });\n            });\n    };\n\n    const passwordResetForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={handleChange}\n                    value={newPassword}\n                    type=\"password\"\n                    className=\"form-control\"\n                    placeholder=\"Type new password\"\n                    required\n                />\n            </div>\n\n            <div>\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\n                    {buttonText}\n                </button>\n            </div>\n        </form>\n    );\n\n    return (\n        <Layout>\n            <div className=\"col-md-6 offset-md-3\">\n                <ToastContainer />\n                <h1 className=\"p-5 text-center\">Hey {name}, Type your new password</h1>\n                {passwordResetForm()}\n            </div>\n        </Layout>\n    );\n};\n\nexport default Reset;\n","/Users/chengleichou/advance-jwt-client/src/auth/Google.js",[],"/Users/chengleichou/advance-jwt-client/src/auth/Facebook.js",[],"/Users/chengleichou/advance-jwt-client/src/auth/LinkedIn.js",["84"],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":2,"column":10,"nodeType":"91","messageId":"92","endLine":2,"endColumn":14},{"ruleId":"89","severity":1,"message":"93","line":2,"column":16,"nodeType":"91","messageId":"92","endLine":2,"endColumn":24},{"ruleId":"94","severity":1,"message":"95","line":22,"column":6,"nodeType":"96","endLine":22,"endColumn":8,"suggestions":"97"},{"ruleId":"89","severity":1,"message":"98","line":24,"column":24,"nodeType":"91","messageId":"92","endLine":24,"endColumn":28},{"ruleId":"89","severity":1,"message":"99","line":1,"column":17,"nodeType":"91","messageId":"92","endLine":1,"endColumn":26},{"ruleId":"89","severity":1,"message":"99","line":1,"column":17,"nodeType":"91","messageId":"92","endLine":1,"endColumn":26},{"ruleId":"94","severity":1,"message":"95","line":24,"column":8,"nodeType":"96","endLine":24,"endColumn":10,"suggestions":"100"},{"ruleId":"89","severity":1,"message":"101","line":1,"column":17,"nodeType":"91","messageId":"92","endLine":1,"endColumn":26},"no-native-reassign",["102"],"no-negated-in-lhs",["103"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Redirect' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'match.params.token' and 'values'. Either include them or remove the dependency array. You can also do a functional update 'setValues(v => ...)' if you only need 'values' in the 'setValues' call.","ArrayExpression",["104"],"'show' is assigned a value but never used.","'Component' is defined but never used.",["105"],"'useEffect' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"106","fix":"107"},{"desc":"106","fix":"108"},"Update the dependencies array to be: [match.params.token, values]",{"range":"109","text":"110"},{"range":"111","text":"110"},[591,593],"[match.params.token, values]",[703,705]]